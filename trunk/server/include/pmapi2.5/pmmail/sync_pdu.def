#ifndef OCTETS
#define OCTETS(name)
#endif

#ifndef STRLIST
#define STRLIST(name)
#endif

#ifndef INTEGER
#define INTEGER(name, len)
#endif

#ifndef NULTERMINATED
#define NULTERMINATED(name)
#endif

#ifndef TYPEDLIST
#define TYPEDLIST(data, type)
#endif

#ifndef TYPE
#define TYPE(name, members)
#endif

#ifndef PDU
#define PDU(name, datas)
#endif

PDU(eMail,
    {
    NULTERMINATED(date)
    NULTERMINATED(to)
    NULTERMINATED(from)
    NULTERMINATED(cc)
    NULTERMINATED(subject)
    TYPEDLIST(attachment, eMail_Attachment)
	TYPEDLIST(mhtmlresource, eMail_Attachment)
    NULTERMINATED(text)
    INTEGER(id,4)
    INTEGER(encoding, 2)
    NULTERMINATED(bcc)
    INTEGER(status,2)
    INTEGER(seqno,2)
    INTEGER(reserved_0d, 2)
    INTEGER(org_encoding, 2)
    NULTERMINATED(htmltext)
	INTEGER(size,2)
    }
)

// Amoisonic used Last_name, First_name, WorkPhone, HomePhone, CellPhone,
// to be compatible with the old protocol version, these fields leave OCTETS type 
PDU(Address,
    {
    INTEGER(id, 4)                           
    OCTETS(Last_name)                            
    OCTETS(First_name)                           
    OCTETS(Initial)                              
    OCTETS(Nickname)                             
    OCTETS(Gender)                               
    OCTETS(BusinessEmail)                        
    OCTETS(PersonalEmail)                        
    OCTETS(OtherEmail)                           
    OCTETS(OtherEmail2)                          
    OCTETS(CellPhone)                            
    OCTETS(CellPhone2)                           
    OCTETS(WorkPhone)                            
    OCTETS(WorkPhone2)                           
    OCTETS(HomePhone)                            
    OCTETS(CarPhone)                             
    OCTETS(Pager)                                
    OCTETS(HomePhone2)                           
    OCTETS(WorkFax)                              
    OCTETS(HomeFax)                              
    OCTETS(Title)                                
    OCTETS(Company)                              
    OCTETS(Language)                             
    OCTETS(Hobbies)                              
    OCTETS(Icon)                                 
    OCTETS(Location)                             
    OCTETS(CustomerID)                           
    OCTETS(Profession)                           
    OCTETS(Spouse)                               
    OCTETS(AssistantName)                        
    OCTETS(AssistantPhone)                       
    OCTETS(HomeAddressAptNo)                     
    OCTETS(HomeAddressStreet)                    
    OCTETS(HomeAddressCity)                      
    OCTETS(HomeAddressState)                     
    OCTETS(HomeAddressPostCode)                  
    OCTETS(HomeAddressCountry)                   
    OCTETS(WorkAddressAptNo)                     
    OCTETS(WorkAddressStreet)                    
    OCTETS(WorkAddressCity)                      
    OCTETS(WorkAddressState)                     
    OCTETS(WorkAddressPostCode)                  
    OCTETS(WorkAddressCountry)                   
    OCTETS(MailAddressAptNo)                     
    OCTETS(MailAddressStreet)                    
    OCTETS(MailAddressCity)                      
    OCTETS(MailAddressState)                     
    OCTETS(MailAddressPostCode)                  
    OCTETS(MailAddressCountry)                   
    OCTETS(OtherAddressAptNo)                    
    OCTETS(OtherAddressStreet)                   
    OCTETS(OtherAddressCity)                     
    OCTETS(OtherAddressState)                    
    OCTETS(OtherAddressPostCode)                 
    OCTETS(OtherAddressCountry)
    }
)

PDU(Calendar,
    {
    INTEGER(id, 4)
    NULTERMINATED(Subject)
    NULTERMINATED(Start)
    NULTERMINATED(End)
    NULTERMINATED(Location)
    NULTERMINATED(TextBody)
    NULTERMINATED(Reminder)
    }
)


PDU(Configure,
    {
    INTEGER(id, 4)
    }
)

PDU(Setting,
	{
	INTEGER(Forwarding, 1)					// enable/disable push
	NULTERMINATED(Model)					// unique phone model identification like A9, 8698
    INTEGER(Deliver_Mode, 2)				// sms(0), gprs(8) or mms(9) mode
	INTEGER(MaxBytes, 2)					// max push bytes, 0 is unlimited
    OCTETS(SecretKey)						// used to exchange key
	INTEGER(ggw_ip,4)						// gprs push gateway ip
	INTEGER(ggw_port,2)						// gprs push gateway port
	NULTERMINATED(spn)						// sp number like 5168
	INTEGER(cid, 4)							// coparation id like 7210 maybe longer
	NULTERMINATED(ctn)						// cell telphone number
	NULTERMINATED(corp_userid)				// corp user id
	}
)



PDU(Notify,
	{
	NULTERMINATED(UserID)
	NULTERMINATED(Password)
	NULTERMINATED(MessageType)
	NULTERMINATED(MessageID)
	}
)

TYPE(eMail_Attachment,
	{
	NULTERMINATED(type)
	NULTERMINATED(name)
	NULTERMINATED(cid)
	NULTERMINATED(location)
	NULTERMINATED(base)
    NULTERMINATED(encoding)
	INTEGER(size, 4)
	OCTETS(data)
	}
)

#ifndef MANUAL_UNDEF
#undef TYPE
#undef PDU
#undef OCTETS
#undef STRLIST
#undef INTEGER
#undef NULTERMINATED
#undef TYPEDLIST
#endif
